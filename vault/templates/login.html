<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AZRION - LOGIN</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'navy': '#1a2342',
            'lavender': '#e6e6fa',
            'primary': '#1a2342',
            'secondary': '#e6e6fa',
          }
        }
      }
    }
  </script>
  <style>
    .login-container {
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .input-field {
      transition: all 0.3s ease;
    }
    .input-field:focus {
      border-color: #1a2342;
      box-shadow: 0 0 0 2px rgba(26, 35, 66, 0.2);
    }
    .btn-hover {
      transition: all 0.3s ease;
    }
    .btn-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(26, 35, 66, 0.2);
    }
    .social-btn {
      transition: all 0.3s ease;
    }
    .social-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .link-hover {
      transition: all 0.3s ease;
    }
    .link-hover:hover {
      color: #1a2342;
      text-decoration: underline;
    }
    .home-link {
      transition: all 0.3s ease;
    }
    .home-link:hover {
      transform: scale(1.1);
      color: #1a2342;
    }
    .circle {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      position: absolute;
    }
    @media (max-width: 768px) {
      .login-container {
        flex-direction: column;
      }
      .left-panel, .right-panel {
        width: 100%;
      }
      .left-panel {
        height: 200px;
      }
    }
    .error { color: red; font-size: 14px; }
    input { display: block; margin: 8px 0; padding: 6px; width: 250; }
  </style>
</head>
<body class="bg-gray-500 min-h-screen flex items-center justify-center p-4">
  <!-- Home Page Link -->
  <div class="fixed top-6 right-6 z-50">
    <a href="/" class="home-link flex items-center justify-center w-12 h-12 bg-white rounded-full shadow-lg text-navy hover:shadow-xl" title="Go to Home Page">
      <i class="fas fa-home text-xl"></i>
    </a>
  </div>

  <div class="login-container rounded-3xl overflow-hidden w-full max-w-5xl flex">
    <!-- Left Panel -->
    <div class="left-panel bg-navy w-2/5 p-8 text-white relative overflow-hidden">
      <!-- Decorative circles -->
      <div class="circle w-32 h-32 top-10 left-10 opacity-10"></div>
      <div class="circle w-48 h-48 bottom-20 right-[-20px] opacity-10"></div>
      <div class="circle w-16 h-16 top-40 right-20 opacity-10"></div>
      <div class="circle w-24 h-24 bottom-40 left-[-10px] opacity-10"></div>
      <div class="circle w-8 h-8 top-20 right-40 opacity-10"></div>

      <div class="flex flex-col h-full justify-center items-center text-center relative z-10">
        <h1 class="text-5xl font-bold mb-6">Welcome</h1>
        <p class="text-lg opacity-90 mb-8">Enter your credentials to access your account</p>
        <div class="mt-4">
          <svg class="w-20 h-20 mx-auto opacity-80" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" opacity="0.4"></path>
          </svg>
        </div>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="right-panel bg-lavender w-3/5 p-8">
      <div class="max-w-md mx-auto py-8">
        <h2 class="text-2xl font-bold text-center text-navy mb-1">LOGIN</h2>
        <p class="text-center text-gray-600 mb-8">Access your account</p>

        <form method="post">
          {% csrf_token %}
          <!-- Email Field -->
          <div class="mb-6">
            <label for="email" class="block text-gray-700 font-medium mb-2">Email Address</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-envelope text-gray-400"></i>
              </div>
              <input 
                type="email" 
                name="email" 
                id="email" 
                value="{{ form_data.email|default:'' }}" 
                class="input-field w-full pl-10 pr-3 py-3 rounded-lg border border-gray-300 focus:outline-none" 
                placeholder="Enter your email"
              >
              {% if errors.email %}
                  <div class="error mt-1">{{ errors.email }}</div>
              {% endif %}
            </div>
          </div>

          <!-- Password Field -->
          <div class="mb-4">
            <label for="password" class="block text-gray-700 font-medium mb-2">Password</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-lock text-gray-400"></i>
              </div>
              <input 
                type="password" 
                name="password" 
                id="password" 
                class="input-field w-full pl-10 pr-10 py-3 rounded-lg border border-gray-300 focus:outline-none" 
                placeholder="Enter your password"
              >
              {% if errors.password %}
                  <div class="error mt-1">{{ errors.password }}</div>
              {% endif %}
              <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                <i class="fas fa-eye text-gray-400 cursor-pointer hover:text-gray-600" id="togglePassword"></i>
              </div>
            </div>
          </div>

          <!-- Forgot Password Link -->
          <div class="mb-6 text-right">
            <a href="{% url 'forgot_password' %}" class="text-sm text-navy link-hover">
              Forgot your password?
            </a>
          </div>

          <!-- Login Button -->
          <button 
            type="submit" 
            class="btn-hover w-full bg-navy text-white py-3 rounded-lg font-medium flex items-center justify-center">
            <i class="fas fa-sign-in-alt mr-2"></i> LOGIN
          </button>

          {% if errors.general %}
              <div class="error">{{ errors.general }}</div>
          {% endif %}

          <!-- Social Login -->
          <div class="mt-8">
            <p class="text-center text-gray-600 mb-4">or continue with</p>
            <div class="flex">
              <a href="{% url 'social:begin' 'google-oauth2' %}" class="social-btn w-full bg-gray-300 border border-gray-300 py-3 rounded-lg flex items-center justify-center">
                <i class="fab fa-google text-gray-700 mr-2"></i> Google
              </a>
            </div>
          </div>

          <!-- Sign Up Link -->
          <div class="mt-8 text-center">
            <p class="text-gray-600">
              Don't have an account? 
              <a href="{% url 'sign_up' %}" class="text-navy font-medium link-hover">Sign up here</a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Toggle password visibility
    document.getElementById('togglePassword').addEventListener('click', function() {
      const passwordInput = document.getElementById('password');
      const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordInput.setAttribute('type', type);
      // Toggle eye icon
      this.classList.toggle('fa-eye');
      this.classList.toggle('fa-eye-slash');
    });

    // Responsive adjustments
    function handleResize() {
      const container = document.querySelector('.login-container');
      const leftPanel = document.querySelector('.left-panel');
      const rightPanel = document.querySelector('.right-panel');

      if (window.innerWidth < 768) {
        leftPanel.classList.remove('w-2/5');
        rightPanel.classList.remove('w-3/5');
        leftPanel.classList.add('w-full');
        rightPanel.classList.add('w-full');
      } else {
        leftPanel.classList.add('w-2/5');
        rightPanel.classList.add('w-3/5');
        leftPanel.classList.remove('w-full');
        rightPanel.classList.remove('w-full');
      }
    }

    // Run on page load and resize
    window.addEventListener('resize', handleResize);
    handleResize();

    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form');
      const emailInput = form.querySelector('input[name="email"]');
      const passwordInput = form.querySelector('input[name="password"]');

      function showError(field, message) {
        const parent = field.closest('.relative') || field.closest('div');
        let errorDiv = parent.querySelector('.error');
        if (!errorDiv) {
          errorDiv = document.createElement('div');
          errorDiv.classList.add('error', 'mt-1');
          parent.appendChild(errorDiv);
        }
        errorDiv.textContent = message;
      }

      function clearError(field) {
        const parent = field.closest('.relative') || field.closest('div');
        const errorDiv = parent.querySelector('.error');
        if (errorDiv) errorDiv.textContent = '';
      }

      emailInput.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          const value = emailInput.value.trim();
          const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          clearError(emailInput);
          if (!emailPattern.test(value)) {
            showError(emailInput, 'Enter a valid email address.');
          } else {
            passwordInput.focus();
          }
        }
      });

      passwordInput.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          const value = passwordInput.value.trim();
          clearError(passwordInput);
          if (value.length < 8) {
            showError(passwordInput, 'Incorrect password!, please try again.');
          } else {
            form.submit();
          }
        }
      });
    });
  </script>
</body>
</html>